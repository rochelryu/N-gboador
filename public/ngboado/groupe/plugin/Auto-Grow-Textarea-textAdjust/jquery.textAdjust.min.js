/*! @onuo/jquery.textadjust 2018-09-17 */

!function(f){f.textAdjust=function(t,n){var e,r,i,a={min:2,max:10},s=this;s.cnf={};var c=t,o=f(t);s.init=function(){s.cnf=f.extend({},a,u(),n),(void 0===c.rows||c.rows>s.cnf.min)&&(c.rows=s.cnf.min),i=c.rows,s.cnf.min<1&&(s.cnf.min=1),s.cnf.min>=s.cnf.max&&(s.cnf.max=s.cnf.min+a.max);var t=c.value;return c.value="",e=c.scrollHeight,c.value=t,r=parseInt(o.css("lineHeight")),o.on("input",s.recalc),s},s.destroy=function(){return o.css("backgroundColor","red").removeData().trigger("textAdjust.destroy").attr("rows",i).unbind(),s},s.recalc=function(){var t=c.rows;c.rows=s.cnf.min;var n=s.cnf.min+Math.ceil((c.scrollHeight-e)/r);return n>s.cnf.max&&(n=s.cnf.max),c.style.height=o.outerHeight(),c.rows=n,c.style.height="auto",o.trigger("textAdjust."+(t<n?"grow":n<t?"shrink":"nochange"),[t,n]),s};var u=function(){var i={};return f.each(a,function(t){var n="min"===t||"max"===t?"-rows":"",e=o.attr("data-"+t+n);if(void 0!==e)if(a[t]===parseInt(a[t],10)){var r=parseInt(e,10);!1===isNaN(r)&&(i[t]=r)}else i[t]=e}),i};s.init().recalc()},f.fn.textAdjust=function(n){return this.filter("textarea").each(function(){var t;if(void 0===f(this).data("textAdjust")&&(t=new f.textAdjust(this,n),f(this).data("textAdjust",t)),"string"===f.type(n))switch(t=t||f(this).data("textAdjust"),n){case"destroy":t.destroy();break;default:console.log("command "+n+" not found!")}})}}(jQuery);